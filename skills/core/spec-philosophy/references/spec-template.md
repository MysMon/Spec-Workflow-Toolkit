# 仕様テンプレートリファレンス

SDD ワークフロー用の完全な仕様テンプレート。

## 完全テンプレート

```markdown
# 機能: [名前]

## ドキュメント情報
- **バージョン**: 1.0
- **ステータス**: ドラフト | レビュー中 | 承認済み | 実装済み
- **作成日**: YYYY-MM-DD
- **最終更新日**: YYYY-MM-DD

## 概要
[2-3 文のビジネス価値の要約。どのような問題を解決するか？]

## 背景
[なぜこれが必要か？現在の状態は？]

## ユーザーストーリー

### 主要ユーザー
- **ペルソナ 1**: [説明]
- **ペルソナ 2**: [説明]

### ストーリー
| ID | ストーリー | 優先度 |
|----|-----------|--------|
| US-001 | [ユーザー] として、[ゴール] したい。[メリット] のために | P0 |
| US-002 | [ユーザー] として、[ゴール] したい。[メリット] のために | P1 |

## 機能要件

| ID | 要件 | 優先度 | 受け入れ基準 |
|----|------|--------|-------------|
| FR-001 | システムは [アクション] する | P0 | GIVEN [コンテキスト] WHEN [アクション] THEN [結果] |
| FR-002 | システムは [アクション] する | P1 | GIVEN [コンテキスト] WHEN [アクション] THEN [結果] |

### 優先度の凡例
- **P0**: 必須（リリースブロッカー）
- **P1**: 重要（あるべき）
- **P2**: あれば良い（時間が許せば）
- **P3**: 将来の検討事項

## 非機能要件

| ID | カテゴリ | 要件 | 測定方法 |
|----|----------|------|----------|
| NFR-001 | パフォーマンス | レスポンスタイム < 200ms | p95 レイテンシ |
| NFR-002 | セキュリティ | すべての入力をバリデーション | 監査スキャン |
| NFR-003 | スケーラビリティ | 1000 同時ユーザーをサポート | 負荷テスト |
| NFR-004 | 可用性 | 99.9% アップタイム | モニタリング |
| NFR-005 | アクセシビリティ | WCAG 2.1 AA 準拠 | axe-core |

## 技術設計

### アーキテクチャ
[ハイレベルのアーキテクチャ説明またはダイアグラム参照]

### データモデル
[主要なエンティティと関係]

### API 契約
[エンドポイント定義または OpenAPI リファレンス]

### 依存関係
- [外部サービス 1]
- [ライブラリ 1]

## エッジケース

| シナリオ | 期待される動作 |
|----------|---------------|
| ユーザーにネットワークがない | キャッシュデータをオフラインインジケーター付きで表示 |
| 無効な入力 | バリデーションエラーを表示、送信しない |
| 同時編集 | 競合通知付きの Last-write-wins |

## スコープ外
- [明示的に除外された項目 1]
- [明示的に除外された項目 2]

## セキュリティ考慮事項
- [ ] 認証が必要
- [ ] 認可チェック
- [ ] 入力バリデーション
- [ ] 出力エンコーディング
- [ ] レート制限
- [ ] 監査ロギング

## テスト戦略
- ビジネスロジックのユニットテスト
- API エンドポイントの統合テスト
- クリティカルなユーザージャーニーの E2E テスト

## ロールアウト計画
1. フィーチャーフラグでデプロイ
2. 内部テスト
3. ベータユーザー（10%）
4. 一般公開

## 指標と成功基準
| 指標 | 目標 | 測定方法 |
|------|------|----------|
| ユーザー採用率 | 2 週間以内に 80% | アナリティクス |
| エラー率 | < 0.1% | エラートラッキング |
| パフォーマンス | p95 < 200ms | APM |

## 未解決の質問
- [ ] [解決が必要な質問]

## 承認

| 役割 | 名前 | 日付 | 署名 |
|------|------|------|------|
| プロダクトオーナー | | | [ ] 承認済み |
| テックリード | | | [ ] 承認済み |
| セキュリティ | | | [ ] 承認済み |
```

## 最小テンプレート（クイック仕様）

小規模な変更向け:

```markdown
# 機能: [名前]

## 課題
[どのような問題を解決するか？]

## ソリューション
[提案するソリューションの要約]

## 要件
- [ ] FR-001: [要件]
- [ ] FR-002: [要件]

## 受け入れ基準
- [ ] [テスト可能な条件 1]
- [ ] [テスト可能な条件 2]

## スコープ外
- [除外項目]
```
